<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    template="#{changePassword.pageTemplate}"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

<ui:define name="content">

	<!-- toolbar: inizio -->
	<div class="btn-toolbar margin-bottom" role="toolbar">
		<div class="btn-group">
			<h:commandLink action="#{changePassword.aclConfirmChangePwd}" styleClass="btn btn-primary openwaitmsg">#{i18n['acl.confirm']}</h:commandLink>
			<h:commandLink rendered="#{!changePassword.popupPage}" action="#{changePassword.aclAnnulChangePwd}"  styleClass="btn btn-default openwaitmsg">#{i18n['acl.cancel']}</h:commandLink>
		</div>
	</div>
	<!-- toolbar: fine -->
	
	<h5 class="sub-header">
		<h:outputText value="#{i18n['acl.changepassword']}" />
	</h5>
	
	<!-- messages: inizio -->
	<h:panelGroup rendered="#{not empty facesContext.messageList}" layout="block" styleClass="docedit-messages alert alert-danger">
		<h:messages styleClass="" id="validationMesseges" />
	</h:panelGroup>
	
	<h:panelGroup rendered="#{changePassword.passwordChanged}" styleClass="docedit-messages" layout="block">
		<div class="alert alert-success">#{i18n['acl.changepasswordconfirm']}</div>
	</h:panelGroup>
	<!-- messages: fine -->

	<!-- scheda edit: inizio -->
	<div class="row-fluid">
		<div class="box span12">
			<div class="box-content">
			
				<div class="fieldset">
					<div class="form-group">
						<label for="templateForm:login" class="col-sm-2 control-label">#{i18n['acl.login']}</label>
						<div class="col-sm-9">
							<h:inputText rendered="#{!changePassword.popupPage}" value="#{changePassword.login}" id="login" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control"/>
							<h:panelGroup rendered="#{changePassword.popupPage}">
								<p class="form-control-static"><h:outputText value="#{changePassword.login}" /></p>
							</h:panelGroup>
						</div>
					</div>
					
					<div class="form-group">
						<label for="templateForm:login" class="col-sm-2 control-label">#{i18n['acl.newpassword']}</label>
						<div class="col-sm-9">
							<h:inputSecret value="#{changePassword.newpassword}" id="newpassword" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control"/>
						</div>
					</div>
					
					<div class="form-group">
						<label for="templateForm:login" class="col-sm-2 control-label">#{i18n['acl.confirmpassword']}</label>
						<div class="col-sm-9">
							<h:inputSecret value="#{changePassword.confirmPassword}" id="confirmpassword" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control"/>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- scheda edit: fine -->
	
	<h:inputTextarea value="#{changePassword.xml}" rendered="#{changePassword.debugMode}" styleClass="form-control debug-textarea" rows="10" />
</ui:define>

</ui:composition>
