<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	  xmlns:h="http://java.sun.com/jsf/html" 
	  xmlns:ui="http://java.sun.com/jsf/facelets" 
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition>

	<h:panelGroup rendered="#{!bean.customfields.hiddenFields['visibilita'] and bean.formsAdapter.funzionalitaDisponibili['enablevisibilita']}">
		<h:panelGroup layout="block" id="visibilitaHolder" styleClass="form-group">
			<label class="col-sm-2 control-label">#{i18n['dw4.visibilita']}</label>
			
			<div class="col-sm-2">
				<h:selectOneMenu styleClass="form-control" disabled="#{bean.overrideLivelloVisibilitaNeeded}" value="#{beanDoc.visibilita.tipo}" immediate="true" valueChangeListener="#{bean.validitaValueChange}">
					<f:ajax execute="@form" render="templateForm:visibilitaHolder :templateForm:errormsg" />
					<f:selectItems value="#{bean.livelliVisibilita}" var="visibilita" itemValue="#{visibilita.text}" itemLabel="#{visibilita.labelSingolare}" />
				</h:selectOneMenu>
			</div>
			
			<h:panelGroup rendered="#{beanDoc.visibilita.tipo eq 'Riservato'}">
				<label for="templateForm:dataVisibilitaRiservato" class="col-sm-offset-3 col-sm-2 control-label"><span>#{i18n['dw4.riservato_fino_al']}</span></label>
				<div class="col-sm-2">
					<div class="input-group date free" data-date-format="dd/mm/yyyy">
						<h:inputText id="dataVisibilitaRiservato" value="#{beanDoc.visibilita.fino_al}" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control datepicker" />
						<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
					</div>
				</div>
			</h:panelGroup>
		</h:panelGroup>
	</h:panelGroup>

</ui:composition>
</html>